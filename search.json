[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Gauge Repeatability and Reproducibility\n(GR&R) Study\nfor Destructive Measurements",
    "section": "",
    "text": "Problem to solve\nThe problem is about how precise a Vickers hardness measurement system is. Here, precision means repeatability and reproducibility.\nRepeatability is the variability due to the instrument. It is the variability observed when the same operator measures the same quantity repeatedly with the same instrument.\nReproducibility is the variability due to the operator (appraiser) and the interaction between the operator (appraiser) and the object being measured. It is the variability observed when different appraisers measure the same parts with the same instrument.\nThe total variability introduced by repeatability and reproducibility, expressed as a percentage of the variability of a process or measurement range, is described by the so-called %GRR (%Gage Repeatability & Reproducibility), a measure of the precision of a measurement system.\n\nMeasurement system\nA measurement system is an arrangement of the following factors:\n\nthe measurand and its range of variation,\nthe method of measurement,\nthe measurement procedure,\na measuring instrument or device and other accessories,\nthe measurement environment,\nthe operator (appraiser) or operators (appraisers).\n\nIn order to diagnose the actual state of the measurement system, the measurements should be performed under the same conditions as the actual ones, in the same way and by the same operators. The measurements are organised and carried out by the GRR test supervisor, who should not participate directly in the measurements.\n\n\nMethod of solution\nThe use of analysis of variance (ANOVA) methods in precision testing allows an accurate assessment of which factor and to what extent is responsible for the variability in measurement results. In addition to repeatability and reproducibility, the variability in measurement results is introduced by the objects (parts) being measured and this should account for the vast majority of the variability observed in the measurements.\nHardness measurements are unique (destructive), so different operators cannot measure the same spots on objects exactly. This means they are nested within each operator. In nested systems, there is no interaction between the operator and the objects being measured. An analysis of variance for nested systems has been used to analyze this.\nThe analysis is based on:\n\nMEASUREMENT SYSTEMS ANALYSIS. Reference Manual. Fourth Edition, 2010, Chrysler Group LLC, Ford Motor Company, General Motors Corporation\nDonald J. Wheeler, An honest Gauge R&R Study, 2006 ASQ/ASA Fall Technical Conference, Manuscript No. 189\nhttps://www.itl.nist.gov/div898/handbook/ppc/section2/ppc233.htm\n\n\n\nAcceptance criteria for measurement systems analysis\nThe AIAG criteria, with adjustment for total variance as the reference level, were used based on how the problem was solved:\n\n%GRR &lt; 1% - high measurement system capability,\n1% &lt; %GRR &lt; 9% - conditionally acceptable measurement system,\n%GRR &gt; 9% - unacceptable measurement system.\n\nAnother indicator of the measurement system is the so-called effective resolution of the measurement system \\(ndc\\) (number of distinct categories), calculated in classical GRR analysis as follows:\n\\(ndc= \\sqrt{2} \\frac{σ_{Part(Appraiser)}}{σ_{GRR}}\\),\nwhere \\(σ_{Part(Appraiser)}\\) is standard deviation of the part nested in appraiser and \\(σ_{GRR}\\) means standard deviation due to GRR. The effective resolution of the measurement system is the number of different categories that the measurement system can reliably differentiate, calculated as the number of non-overlapping intervals with approximately 97% confidence. It examines the ability of the measurement system to detect differences between samples.\nThe following criterion for \\(ndc\\) is commonly used:\n\n\\(ndc\\) &gt; 5 - resolution is adequate,\n2 &lt; \\(ndc\\) &lt; 5 - very low resolution of the system;\n\\(ndc\\) &lt; 2 - unacceptable resolution.\n\nIn the modern analysis of measurement systems, called EMP (Evaluating the Measurement Process), the AIAG criteria are considered too conservative. EMP proposes a criterion of system capability based on the \\(ICC\\) (Intraclass Correlation Coefficient), defined as follows:\n\\(ICC= \\frac{({σ_{Part(Appraiser)}})^2}{TV}\\) ,\nwhere \\(TV\\) means the total variance. The \\(ICC\\) describes what part of the total variance is the variance describing the variability of the measured objects. The \\(ICC\\) coefficient value is the basis for the classification of the system in accordance with the Table 7.\nIn the EMP approach, the probable error can be treated as a measure of the precision of the measurement system. The probable error can be calculated as\n\\(PE = 0.675\\   GRR\\),\nwhere GRR is the estimated standard deviation of the measurement system.\nAll calculations were performed in R (RStudio).\n\n\n\nPackages used\n\nif (!require(magnittr)) {install.packages('magnittr', \n                        repos=\"http://cran.us.r-project.org\"); \n                        require(magnittr)}\nif (!require(knitr)) {install.packages('knitr',\n                        repos=\"http://cran.us.r-project.org\");\n                        require(knitr)}\nif (!require(kableExtra)) {install.packages('kableExtra', \n                        repos=\"http://cran.us.r-project.org\"); \n                        require(kableExtra)}\n\nif (!require(ggplot2)) {install.packages('ggplot2', \n                        repos=\"http://cran.us.r-project.org\"); \n                        require(ggplot2)}\nif (!require(plotrix)) {install.packages('plotrix', \n                        repos=\"http://cran.us.r-project.org\"); \n                        require(plotrix)}\nif (!require(car)) {install.packages('car', \n                        repos=\"http://cran.us.r-project.org\"); \n                        require(car)}\nif (!require(grid)) {install.packages('grid', \n                        repos=\"http://cran.us.r-project.org\"); \n                        require(grid)}\n\n\n\nResults of measurements\n\nReading data\n\nappraiser_A &lt;- read.csv2(\"Appraiser_AAA.csv\")\nappraiser_B &lt;- read.csv2(\"Appraiser_BBB.csv\")\nappraiser_C &lt;- read.csv2(\"Appraiser_CCC.csv\")\n\nrow.names(appraiser_A) &lt;- c(\"Trial1:\",\"Trial2:\",\"Trial3:\")\nrow.names(appraiser_B) &lt;- c(\"Trial1:\",\"Trial2:\",\"Trial3:\")\nrow.names(appraiser_C) &lt;- c(\"Trial1:\",\"Trial2:\",\"Trial3:\")\n\nThe Vickers hardness scale is very wide, from about 100HV to over 900HV. Ten parts were selected to test the measurement system. The three operators did three trials each. The measurement results are presented below.\n\n\n\n\nTable 1: Measurements (HV) of Appraiser A\n\n\n\n\n\n\n\n\nPart1\nPart2\nPart3\nPart4\nPart5\nPart6\nPart7\nPart8\nPart9\nPart10\n\n\n\n\nTrial1:\n255.93\n275.63\n315.20\n331.83\n519.73\n580.20\n591.50\n720.53\n750.47\n821.23\n\n\nTrial2:\n238.23\n271.77\n310.03\n337.83\n521.17\n571.93\n598.97\n708.07\n755.40\n849.73\n\n\nTrial3:\n258.87\n311.36\n330.25\n376.13\n538.28\n604.50\n617.76\n753.34\n773.23\n820.12\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 2: Measurements (HV) of Appraiser B\n\n\n\n\n\n\n\n\nPart1\nPart2\nPart3\nPart4\nPart5\nPart6\nPart7\nPart8\nPart9\nPart10\n\n\n\n\nTrial1:\n286.20\n296.50\n294.23\n325.43\n524.70\n538.53\n670.37\n722.83\n738.80\n829.77\n\n\nTrial2:\n286.28\n306.10\n314.45\n360.12\n534.32\n578.34\n630.39\n742.87\n752.81\n859.89\n\n\nTrial3:\n316.24\n316.56\n324.43\n355.25\n554.72\n570.67\n650.21\n732.27\n768.56\n859.45\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 3: Measurements (HV) of Appraiser C\n\n\n\n\n\n\n\n\nPart1\nPart2\nPart3\nPart4\nPart5\nPart6\nPart7\nPart8\nPart9\nPart10\n\n\n\n\nTrial1:\n140.20\n160.50\n210.23\n219.43\n388.70\n432.53\n534.37\n586.83\n672.80\n753.77\n\n\nTrial2:\n151.21\n152.58\n201.17\n200.79\n368.18\n448.62\n554.24\n596.79\n652.10\n750.36\n\n\nTrial3:\n130.56\n138.68\n178.89\n185.98\n381.81\n449.62\n554.46\n579.39\n642.27\n723.61\n\n\n\n\n\n\n\n\n\n\n\n\n\nMeasurements\nFigure 1 shows all measurements. Figure 2 shows the average for each part obtained by each appraiser.\n\n\n\n\n\nMeasurements by Parts\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Measurements by Appraisers\n\n\n\n\n\n\n\n\nANOVA analysis\nAnova for nested measurements was used to solve the problem. The result is presented in the ANOVA table.\n\nmodel &lt;- lm(formula = measurement ~ Appraiser + Appraiser:Part,\n             data = measurements)\n\nanov &lt;- Anova(model, type = \"II\")          \nanov\n\nAnova Table (Type II tests)\n\nResponse: measurement\n                Sum Sq Df F value    Pr(&gt;F)    \nAppraiser       311774  2  647.36 &lt; 2.2e-16 ***\nAppraiser:Part 3753853 27  577.37 &lt; 2.2e-16 ***\nResiduals        14448 60                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nANOVA table\nThe F column of the ANOVA table (Table 4) contains the Snedecor statistic for comparisons against the MSS for repeatability. The \\(p\\) column shows the significance level against this quantity. The first value in column F1 represents the ratio of MSS for Appraiser and MSS for Part(Appraiser). Consequently, \\(p1\\) represents the significance level attributed to the Appraiser in comparison to the Part.\n\n\n\n\nTable 4: ANOVA Table\n\n\n\n\n\n\n\n\nSource\ndf\nSS\nMSS\nF\np[%]\nF1\np1[%]\n\n\n\n\nMSO\nAppraiser\n2\n311773.96\n155886.9776\n647.36\n0\n1.12\n34.1\n\n\nMSP(O)\nPart(Appraiser)\n27\n3753852.72\n139031.5824\n577.37\n0\n577.37\n0.0\n\n\nMSE\nRepeatability\n60\n14448.15\n240.8024\nNA\nNA\nNA\nNA\n\n\nSST\nTotal\n89\n4080074.83\nNA\nNA\nNA\nNA\nNA\n\n\n\n\n\n\n\n\n\n\n\n\n\nGRR table\nTable 5 (GRR table) shows the variance (var), the standard deviation (sig) and the percentage of the total variance (%var) for each of the components of total variance. The graphical representation can be seen in the following Figure 3. Figure 4 shows the percentage of GRR components.\n\n\n\n\nTable 5: GRR Table\n\n\n\n\n\n\n\n\nvar\nsig\n6sig\n%6sig\n%var\n\n\n\n\nRepeatability\n240.80\n15.52\n93.11\n7.15\n0.51\n\n\nReproducibility\n561.85\n23.70\n142.22\n10.93\n1.19\n\n\nGRR\n802.65\n28.33\n169.99\n13.06\n1.71\n\n\nPart(Appraiser)\n46263.59\n215.09\n1290.54\n99.14\n98.29\n\n\nTotal\n47066.24\n216.95\n1301.69\n100.00\n100.00\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Contribution to total variance\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Contribution to GRR\n\n\n\n\n\n\n\nEffective resolution\n\nndc &lt;- sqrt(2) * GRR_table[4,2]/GRR_table[2,2]\nICC &lt;- GRR_table[4,1]/GRR_table[5,1]\nPE &lt;- 0.675*GRR_table[3,2]\n\n\n\nNumber of distinct categories:\nndc =  13\n\n\n\nIntraclass correlation coefficient:\nICC =  0.983\n\n\n\nProbable error:\nPE =  19\n\n\n\n\nLimits for average values and ranges\nThe limits in the Table 6 were determined using Table 8 as in the classical GRR analysis. UCL means upper control limit, CL - center line, LCL - lower control limit.\n\n\n\n\nTable 6: Control limits\n\n\n\n\n\n\n\n\nUCL\nCL\nLCL\n\n\n\n\nLimits for average values:\n517\n488\n459\n\n\nLimits for ranges:\n73\n28\n0\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nConclusions\nFrom the ANOVA table it can be concluded that both the variability introduced by the appraisers and the variability introduced by the parts are statistically significant compared to the variability due to repeatability (residuals or repeatability in the ANOVA table), since the probabilities \\(p\\) are much lower than 0.05, practically equal to zero. Table 4 shows that the appraiser introduced variability is not statistically significant compared to the variability due to the parts (\\(p\\) &gt; 0.05), whose share in the total variability is equal to 98.29% (Fig. 3).\nThe share of GRR in the total variability is 1.71%, so according to the AIAG criterion the measurement system can be considered as conditionally acceptable, but according to the EMP approach \\(ICC\\) = 0.983, which means that the measurement system is in the I class (Table 7).\nThe \\(ndc\\) (number of distinct categories) factor is equal to 13, which means that the tested Vickers hardness measurement system is capable of distinguishing 13 measurement ranges in the entire available scale.\nThe probable error PE, calculated using the EMP approach, is approximately 20HV. This value can be considered as the effective resolution of the measurement system.\nThe most important part of the GRR is the reproducibility (70%). This means that the operator variability is too high. From the graphs in Appendix A it can be seen that the measurements made by Operator C are significantly lower than those of Operators A and B. The situation should be analysed and perhaps additional training should be proposed to reduce the differences.\nThe Range graphs are almost the same for all operators. There are no significant differences. All Ranges are between the LCL and UCL limits. The process of measurement is consistent and predictable.\nThe range between the LCL and UCL on the Mean charts in Figures 5, 6 and 7 represents the measurement error. All points on the Mean charts are outside the control limits. This means that the measurements are very good and not masked by measurement error.\n\n\nAppendix A\n\nGraphs for average values\n\n\n\n\n\n\n\n\nFigure 4: Mean by Parts\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 5: Mean by Appraisers\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 6: Mean by Parts and Appraisers\n\n\n\n\n\n\n\nGraphs for ranges\n\n\n\n\n\n\n\n\nFigure 7: Range by Parts\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 8: Range by Appraisers\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 9: Range by Parts and Appraisers\n\n\n\n\n\n\n\n\nAppendix B\n\n\n\n\nTable 7: EMP III\n\n\n\n\n\n\n\nICC\nClass of the system\nAttenuation of proces signal\n\n\n\n\n0.8 - 1.0\nI\n&lt; 10%\n\n\n0.5 - 0.8\nII\n10% - 30%\n\n\n0.2 - 0.5\nIII\n30% - 55%\n\n\n0.0 - 0.2\nIV\n&gt;55%\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 8: Control limits factors\n\n\n\n\n\n\n\nkk\nA2\nD3\nD4\n\n\n\n\n2\n1.880\n0.000\n3.267\n\n\n3\n1.023\n0.000\n2.575\n\n\n4\n0.729\n0.000\n2.282\n\n\n5\n0.577\n0.000\n2.115\n\n\n6\n0.483\n0.000\n2.004\n\n\n7\n0.419\n0.076\n1.924\n\n\n8\n0.373\n0.136\n1.864\n\n\n9\n0.337\n0.184\n1.816\n\n\n10\n0.308\n0.223\n1.777"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This page has been written as a Quarto HTML page in RStudio."
  }
]